<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/header.ejs') %>
    <title>Login - Game Shop</title>
    <link rel="stylesheet" href="/public/css/login-reg.css" />
    <!-- 添加 Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .divider:after, .divider:before {
            content: "";
            flex: 1;
            height: 1px;
            background: #eee;
        }
        .h-custom {
            height: calc(100% - 73px);
        }
        @media (max-width: 450px) {
            .h-custom { height: 100%; }
        }
    </style>
</head>
<body class="Background">
    <div class="row d-flex justify-content-center align-items-center h-100 px-5">
        <div class="col-12 col-md-9 col-lg-7 col-xl-6">
            <section class="shadow-lg bg-light rounded">
                <% if (alert) { %>
                    <div class="alert alert-<%= alert.type %> alert-dismissible fade show" role="alert">
                        <strong><%= alert.type.toUpperCase() %></strong> <%= alert.message %>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                <% } %>
                <div class="container-fluid h-custom">
                    <div class="row d-flex justify-content-center align-items-center h-100">
                        <div class="col-md-9 col-lg-6 col-xl-5">
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp" class="img-fluid" alt="Sample image">
                        </div>
                        <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                            <form method="post" action="/auth/signin">
                                <div class="divider d-flex align-items-center my-4">
                                    <h2 class="text-center fw-bold mx-3 mb-0" style="font-family: 'Poppins', sans-serif;">Sign in</h2>
                                </div>
                                <div class="form-outline mb-4">
                                    <label class="form-label" for="userInput">Username or Email</label>
                                    <input type="text" id="userInput" name="userInput" class="form-control form-control-sm" placeholder="email or username" value="<%= username || '' %>" required />
                                </div>
                                <div class="form-outline mb-3">
                                    <label class="form-label" for="password">Password</label>
                                    <input type="password" id="password" name="password" class="form-control form-control-sm" placeholder="password" required />
                                </div>
                                <div class="text-center text-lg-start mt-4 pt-2">
                                    <button type="submit" class="btn btn-primary btn-lg" style="padding-left: 2.5rem; padding-right: 2.5rem;">Login</button>
                                    <p class="small fw-bold mt-2 pt-1 mb-0">Don't have an account? <a href="/auth/signup" class="link-danger">Register</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <%- include('../partials/footer.ejs') %>
</body>
</html>